{% extends "layout.html" %}

{% block app %} ng-app="{% block ngapp %}main{% endblock %}"  resize {% endblock %} 

{% block title %}Index{% endblock %}

{% block head %}
	{{ super() }}
  <script src="{{ url_for('static', filename='PadController.js') }}"></script>
{% endblock %}

{% block content %}
  {{super()}}



  <div class="container pad" ng-controller="PadController" ng-init="solutionId ='{%- if id %} {{- id}} {%- endif %}'">

  <div class="container-fluid">
    <div class="row">
      <div class="col-md-10">
      {% for x in range(0,3) %}
        <div class="row node-row" >
         {% for y in range(0,4) %}
            <div class="col-xs-3" >
                <div class="row node" ng-class="getClass(nodes[{{x}}][{{y}}])" >
                  <div class="col-xs-9 node-block">
                    <textarea ng-model="nodes[{{x}}][{{y}}].text" ng-init="nodes[{{x}}][{{y}}].text = '  
                      {%- if grid %}
                        {{ grid[x][y] }}
                      {%- endif -%}'" > 
                    </textarea>
                  </div>
                  <div class="col-xs-3 sidecolumn node-block">
                    <div ng-click="setState(nodes[{{x}}][{{y}}], STATE.EXEC)" class="sidecell exec"><p>EXEC<br>NODE</p></div>
                    <div ng-click="setState(nodes[{{x}}][{{y}}], STATE.STCK)"class="sidecell stck"><p>STCK<br>NODE</p></div>
                    <div ng-click="setState(nodes[{{x}}][{{y}}], STATE.ERR)" class="sidecell err"><p>ERR<br>NODE</p></div>
                    <div class="sidecell bottom"></div>
                  </div>
                </div>
            </div>
           {% endfor %}
        </div>
        {% endfor %}
        </div>

        <div  class="col-md-2">
          <button class="tis-button" ng-click="download()">Download Solution</button>
          <button class="tis-button" ng-click="upload_save()">Upload Save File</button>
          <button class="tis-button" ng-click="new_solution()">New Solution</button>
          <button class="tis-button" ng-click="save()">Save</button>
        </div>
      </div>
    </div>
  </div>
{% endblock %}